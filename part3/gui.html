<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Peerster</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <style>
        #id-box{border-style: solid}
        #chat-box{border-style: solid}
        #node-box{border-style: solid}
    </style>
    <script>
        $(document).ready(function(){
            $("#change-id-button").click(function(){
                new_id = $("#change-id-input").text()

            });
            $("#send-message-button").click(function(){
                message_text = $("#send-message-input").val()
                $.post("http://localhost:8080/message", {"text":message_text})
            });
            $("#new-node-button").click(function () {

            });
            setInterval(function(){
                $.getJSON("http://localhost:8080/message", function (data) {
                    if (data.length != 0) {
                        for (i = 0; i < data.length; i++) {
                            message = data[i]["Rumor"]
                            $("#chat-box").prepend("<p>" + message["Origin"] + ": " + message["Text"] + "</p>")
                        }
                    }
                })
            }, 1000)
        });
    </script>
</head>
<body>
    <div id="id-box"><p>Identifier</p></div>
    <input type="text" title="Input New Identifier Here:" id="change-id-input">
    <button id="change-id-button">Change Id</button>
    <br>
    <input type="text" title="Input Message Here:" id="send-message-input">
    <button id="send-message-button">Send Message</button>
    <br>
    <input type="text" title="New Node Here:" id="new-node-input">
    <button id="new-node-button">New Node</button>
    <div id="chat-box"></div>
    <div id="node-box"></div>
</body>
</html>